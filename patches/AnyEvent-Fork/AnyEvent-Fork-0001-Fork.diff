--- Fork.pm.orig	2015-06-01 11:09:37.000000000 +0300
+++ Fork.pm	2015-06-01 12:32:02.000000000 +0300
@@ -543,7 +543,7 @@
       require AnyEvent::Fork::Serve;
       $AnyEvent::Fork::Serve::OWNER = $parent;
       close $fh;
-      $0 = "$_[1] of $parent";
+      $0 = "$_[1] of $parent" if ( $0 ne '-e' );
       AnyEvent::Fork::Serve::serve ($slave);
       exit 0;
    } elsif (!$pid) {
@@ -627,7 +627,7 @@
 
    unless (defined $PERL) {
       # first find path of perl
-      my $perl = $;
+      my $perl = $^X; # RT #100561
 
       # first we try $^X, but the path must be absolute (always on win32), and end in sth.
       # that looks like perl. this obviously only works for posix and win32
